{% extends 'base.html.twig' %}

{% block body %}
<div class="container">

    {% include('profile-expert/navigation.html.twig') %}

    <div class="row flex-column flex-sm-row mt-4">
        <div class="col-md-3">
            {% include('routine/left-panel.html.twig') %}
        </div>
        <div class="col-md-9">

            <div class="search-panel pb-5 container">
{#                <form action="{{ path('expert.routine.day.add.product') }}" method="get" class="form-inline">#}
{#                    <div class="form-group mx-sm-3 mb-2">#}
{#                        <label for="type" class="pr-3">Type</label>#}
{#                        <select class="form-control" id="status" name="status" >#}
{#                            <option {% if not (app.request.get('type')) %} selected {% endif %}>Any</option>#}
{#                            {% for type in types %}#}
{#                                <option {% if (app.request.get('type') == type.type) %} selected {% endif %} value="{{ type.type }}">{{ type.type }}</option>#}
{#                            {% endfor %}#}
{#                        </select>#}
{#                    </div>#}
{#                    <div class="form-group mx-sm-3 mb-2">#}
{#                        <input type="text" name="name" id="name" placeholder="Name of product or brand">#}
{#                    </div>#}
{#                    <button type="submit" class="btn btn-primary mb-2">Search</button>#}
{#                </form>#}
            </div>

            <table  class="table">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Id</th>
                    <th scope="col">Name</th>
                    <th scope="col">Brand</th>
                    <th scope="col">Price</th>
                    <th scope="col">Type</th>
                    <th scope="col">Add</th>
                </tr>
                {% for product in products %}
                    <tr>
                        <th scope="col">{{loop.index}}</th>
                        <td>{{ product.id }}</td>
                        <td>{{ product.name }}</td>
                        <td>{{ product.brand }}</td>
                        <td>{{ product.price }}</td>
                        <td>{{ product.type.type }}</td>
                        <td>
                            {% if product in day.getProducts %}
                                already added
                            {% else %}
                                <a href="{{ path('expert.routine.day.add.concrete.product', {id: day.routine.id, dayId: day.id, prodId: product.id}) }}">Add</a>
                            {% endif %}
                        </td>
                    </tr>
                {% endfor %}
            </table>


        </div>
    </div>
</div>
{% endblock %}